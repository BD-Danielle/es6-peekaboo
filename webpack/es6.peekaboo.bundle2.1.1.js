(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(t){var o=function(t,o){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(o)?o:String(o)}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var o,n;return o=e,n=[{key:"query",value:function(e){var t=document.querySelector(e);if(!t)throw new Error("Element ".concat(e," not found"));return t}},{key:"documentSize",value:function(){return{fullHeight:document.documentElement.scrollHeight,scrollTop:window.scrollY||document.documentElement.scrollTop}}},{key:"objSize",value:function(e){var t=this.query(e);return{height:t.offsetHeight,width:t.offsetWidth,top:t.offsetTop,left:t.offsetLeft}}},{key:"isElementVisible",value:function(e){var t=this.documentSize(),o=window.innerHeight,n=this.objSize(e[0]).top,r=t.fullHeight-(this.objSize(e[1]).top+this.objSize(e[1]).height);return t.scrollTop>=n&&r<=t.fullHeight-t.scrollTop-o}},{key:"updateVisibility",value:function(e,t){var o=this,n=t.some((function(e){return o.isElementVisible(e)}));this.query(e).style.display=n?"block":"none"}},{key:"start",value:function(e,t){var o=this;if(!e||!t)throw new Error("Invalid arguments for Peekaboo.start");var n=function(){return o.updateVisibility(e,t)};document.addEventListener("DOMContentLoaded",n),window.addEventListener("scroll",this.debounce(n))}},{key:"debounce",value:function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];clearTimeout(t),t=setTimeout((function(){clearTimeout(t),e.apply(void 0,r)}),o)}}}],n&&t(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),e}();window.Peekaboo=n})();