(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function n(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(r)?r:String(r)}var i=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=function(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({throttleDelay:r.throttleDelay||100,displayStyle:r.displayStyle||"block",fadeEffect:r.fadeEffect||!1},r),this.cache=new Map}var o,i;return o=e,i=[{key:"query",value:function(e){if(this.cache.has(e))return this.cache.get(e);var t=document.querySelector(e);if(!t)throw new Error("Element ".concat(e," not found"));return this.cache.set(e,t),t}},{key:"documentSize",value:function(){return{fullHeight:document.documentElement.scrollHeight,scrollTop:window.scrollY||document.documentElement.scrollTop}}},{key:"objSize",value:function(e){var t=this.query(e).getBoundingClientRect();return{height:t.height,width:t.width,top:t.top+window.scrollY,left:t.left+window.scrollX}}},{key:"isElementVisible",value:function(e){try{var t=this.documentSize(),r=window.innerHeight,n=this.objSize(e[0]).top,o=t.fullHeight-(this.objSize(e[1]).top+this.objSize(e[1]).height);return t.scrollTop>=n&&o<=t.fullHeight-t.scrollTop-r}catch(e){return console.error("Error checking element visibility:",e),!1}}},{key:"updateVisibility",value:function(e,t){var r=this,n=this.query(e),o=t.some((function(e){return r.isElementVisible(e)}));this.options.fadeEffect?(n.style.transition="opacity 0.3s",n.style.opacity=o?"1":"0",setTimeout((function(){n.style.display=o?r.options.displayStyle:"none"}),o?0:300)):n.style.display=o?this.options.displayStyle:"none"}},{key:"throttle",value:function(e,t){var r;return function(){if(!r){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];e.apply(this,o),r=!0,setTimeout((function(){return r=!1}),t)}}}},{key:"start",value:function(e,t){var r=this;if(!e||!t)throw new Error("Invalid arguments for Peekaboo.start");var n=this.throttle((function(){return r.updateVisibility(e,t)}),100);document.addEventListener("DOMContentLoaded",n),window.addEventListener("scroll",n)}},{key:"destroy",value:function(){var e=this,t=function(){return e.updateVisibility(ele,areas)};document.removeEventListener("DOMContentLoaded",t),window.removeEventListener("scroll",t),this.cache.clear()}}],i&&r(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),e}();n(i,"version","2.2.0"),window.Peekaboo=i})();